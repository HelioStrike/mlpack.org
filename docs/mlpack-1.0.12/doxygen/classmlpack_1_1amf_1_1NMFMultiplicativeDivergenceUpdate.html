<html >
<head >

<meta name="keywords" content="mlpack, libmlpack, c++, armadillo, machine
learning, data mining, classification, regression, tree-based methods, dual-tree
algorithm">
<meta name="description" content="mlpack: a scalable c++ machine learning
library">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title >mlpack: a scalable c++ machine learning library</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="dynamic_tables.js"></script>
</head><link rel="stylesheet" href="style-doxygen.css" /><link rel="stylesheet" href="doxygen.css" /><link rel="stylesheet" href="tabs.css" /><link rel="stylesheet" href="search/search.css" /><link href="http://fonts.googleapis.com/css?family=Maven+Pro:500" rel="stylesheet" type="text/css" />





<body ><br />


<div class="mlpack_titlebar">
   <a href="http://www.mlpack.org"><img src="../../../mlpack.png"></a>
</div>
<center >
<div class="mlnavbar">
  <div class="navcontainer">
   <div class="mlnavitem" name="mlnavmain"><a href="../../../index.html">main</a></div>
   <div class="mlnavitem" name="mlnavabout"><a href="../../../about.html">about</a></div>
   <div class="mlnavitem" name="mlnavdoc"><a href="../../../docs.html">docs</a></div>
   <div class="mlnavitem" name="mlnavhelp"><a href="../../../help.html">get help</a></div>
   <div class="mlnavitem" name="mlnavbugs"><a href="https://github.com/mlpack/mlpack">github</a></div>
  </div>
</div>
</center>
<div class="separator"></div>
<center >
<div class="mainsection smallertext">
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody >
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">1.0.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>

<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul >
<li class="navelem"><a class="el" href="namespacemlpack.html">mlpack</a></li><li class="navelem"><a class="el" href="namespacemlpack_1_1amf.html">amf</a></li><li class="navelem"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html">NMFMultiplicativeDivergenceUpdate</a></li>  </ul>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</div>  </div>
</div>
<div class="contents">

<p >This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D.  
 <a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a989aecc76d2b526557e030c7e63506ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a989aecc76d2b526557e030c7e63506ff">NMFMultiplicativeDivergenceUpdate</a> ()</td></tr>
<tr class="separator:a989aecc76d2b526557e030c7e63506ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433e74ab6d94802e68aa9123c655b7cf"><td class="memTemplParams" colspan="2"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></td></tr>
<tr class="memitem:a433e74ab6d94802e68aa9123c655b7cf"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a433e74ab6d94802e68aa9123c655b7cf">Initialize</a> (const MatType &amp;dataset, const size_t rank)</td></tr>
<tr class="separator:a433e74ab6d94802e68aa9123c655b7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplParams" colspan="2"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a4d74e4fe86c3eacf1567be69950fd616">HUpdate</a> (const MatType &amp;V, const arma::mat &amp;W, arma::mat &amp;H)</td></tr>
<tr class="memdesc:a4d74e4fe86c3eacf1567be69950fd616"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the encoding matrix H.  <a href="#a4d74e4fe86c3eacf1567be69950fd616">More...</a><br /></br></td></tr>
<tr class="separator:a4d74e4fe86c3eacf1567be69950fd616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplParams" colspan="2"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a9d17481f4277050bc0cfe4d2fddb54d8">WUpdate</a> (const MatType &amp;V, arma::mat &amp;W, const arma::mat &amp;H)</td></tr>
<tr class="memdesc:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the basis matrix W.  <a href="#a9d17481f4277050bc0cfe4d2fddb54d8">More...</a><br /></br></td></tr>
<tr class="separator:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D. </p>
<p >D. Lee and H. S. Seung. This is a multiplicative rule that ensures that the Kullbackâ€“Leibler divergence <img class="formulaInl" alt="$ \sum_i \sum_j (V_{ij} log\frac{V_{ij}}{(WH)_{ij}}-V_{ij}+(WH)_{ij}) $" src="form_53.png"></img> is non-increasing between subsequent iterations. Both of the update rules for W and H are defined in this file.</p>
<p >This set of update rules is not meant to work with sparse matrices. Using sparse matrices often causes NaNs in the output, so other choices of update rules are better in that situation. </p>

<p class="definition">Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00034">34</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a989aecc76d2b526557e030c7e63506ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989aecc76d2b526557e030c7e63506ff">&#9670;&nbsp;</a></span>NMFMultiplicativeDivergenceUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr >
  <td class="mlabels-left">
      <table class="memname">
        <tr >
          <td class="memname">mlpack::amf::NMFMultiplicativeDivergenceUpdate::NMFMultiplicativeDivergenceUpdate </td>
          <td >(</td>
          <td class="paramname"></td><td >)</td>
          <td ></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00038">38</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4d74e4fe86c3eacf1567be69950fd616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d74e4fe86c3eacf1567be69950fd616">&#9670;&nbsp;</a></span>HUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></div>
<table class="mlabels">
  <tr >
  <td class="mlabels-left">
      <table class="memname">
        <tr >
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::HUpdate </td>
          <td >(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em >V</em>, </td>
        </tr>
        <tr >
          <td class="paramkey"></td>
          <td ></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em >W</em>, </td>
        </tr>
        <tr >
          <td class="paramkey"></td>
          <td ></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em >H</em>&#160;</td>
        </tr>
        <tr >
          <td ></td>
          <td >)</td>
          <td ></td><td ></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p >The update rule for the encoding matrix H. </p>
<p >The formula used is </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ H_{a\mu} \leftarrow H_{a\mu} \frac{\sum_{i} W_{ia} V_{i\mu}/(WH)_{i\mu}} {\sum_{k} H_{ka}} \]" src="form_55.png"></img>
</p>
<p > The function takes in all the matrices and only changes the value of the H matrix.</p>
<dl class="params"><dt >Parameters</dt><dd >
  <table class="params">
    <tr ><td class="paramname">V</td><td >Input matrix to be factorized. </td></tr>
    <tr ><td class="paramname">W</td><td >Basis matrix. </td></tr>
    <tr ><td class="paramname">H</td><td >Encoding matrix to updated. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00103">103</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a id="a433e74ab6d94802e68aa9123c655b7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433e74ab6d94802e68aa9123c655b7cf">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></div>
<table class="mlabels">
  <tr >
  <td class="mlabels-left">
      <table class="memname">
        <tr >
          <td class="memname">void mlpack::amf::NMFMultiplicativeDivergenceUpdate::Initialize </td>
          <td >(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em >dataset</em>, </td>
        </tr>
        <tr >
          <td class="paramkey"></td>
          <td ></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em >rank</em>&#160;</td>
        </tr>
        <tr >
          <td ></td>
          <td >)</td>
          <td ></td><td ></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00041">41</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a id="a9d17481f4277050bc0cfe4d2fddb54d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d17481f4277050bc0cfe4d2fddb54d8">&#9670;&nbsp;</a></span>WUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate"><div class="template_expr"><div class="template_decl">template</div><div class="open_bracket">&lt;</div><div class="template_param_list"><div class="template_param"><div class="type_decl">typename</div><div class="identifier">MatType</div><div class="close_bracket">&gt;</div></div></div></div></div>
<table class="mlabels">
  <tr >
  <td class="mlabels-left">
      <table class="memname">
        <tr >
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::WUpdate </td>
          <td >(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em >V</em>, </td>
        </tr>
        <tr >
          <td class="paramkey"></td>
          <td ></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em >W</em>, </td>
        </tr>
        <tr >
          <td class="paramkey"></td>
          <td ></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em >H</em>&#160;</td>
        </tr>
        <tr >
          <td ></td>
          <td >)</td>
          <td ></td><td ></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p >The update rule for the basis matrix W. </p>
<p >The formula used is </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ W_{ia} \leftarrow W_{ia} \frac{\sum_{\mu} H_{a\mu} V_{i\mu}/(WH)_{i\mu}} {\sum_{\nu} H_{a\nu}} \]" src="form_54.png"></img>
</p>
<p > The function takes in all the matrices and only changes the value of the W matrix.</p>
<dl class="params"><dt >Parameters</dt><dd >
  <table class="params">
    <tr ><td class="paramname">V</td><td >Input matrix to be factorized. </td></tr>
    <tr ><td class="paramname">W</td><td >Basis matrix to be updated. </td></tr>
    <tr ><td class="paramname">H</td><td >Encoding matrix. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00061">61</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<hr ></hr>The documentation for this class was generated from the following file:<ul >
<li >src/mlpack/methods/amf/update_rules/<a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a></li>
</ul>
</div>

<hr class="footer"></hr><address class="footer"><small >
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"></img>
</a> 1.8.13
</small></address>
</div>
</body>
<script type="text/javascript">
var x = document.querySelectorAll("img.formulaDsp");
var i;
for (i = 0; i < x.length; i++)
{
  x[i].width = x[i].offsetWidth / 4;
}
</script>
</html>