<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MLPACK: mlpack::fastmks::FastMKSRules&lt; KernelType, TreeType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacemlpack.html">mlpack</a>      </li>
      <li><a class="el" href="namespacemlpack_1_1fastmks.html">fastmks</a>      </li>
      <li><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules&lt; KernelType, TreeType &gt;</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>mlpack::fastmks::FastMKSRules&lt; KernelType, TreeType &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mlpack::fastmks::FastMKSRules" -->
<p>The base case and pruning rules for <a class="el" href="classmlpack_1_1fastmks_1_1FastMKS.html" title="An implementation of fast exact max-kernel search.">FastMKS</a> (fast max-kernel search).  
<a href="#_details">More...</a></p>

<p><a href="classmlpack_1_1fastmks_1_1FastMKSRules-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#aabb5aae1f786486db8b04eeee7366c04">FastMKSRules</a> (const arma::mat &amp;<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#accd18cdbe977c51475c42b6ac7796d1b">referenceSet</a>, const arma::mat &amp;<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a1133cf90a16a6b2da0dcf5336d7eb68b">querySet</a>, arma::Mat&lt; size_t &gt; &amp;<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a62cf0cb4b46374534e5ff9b3aaff5cc0">indices</a>, arma::mat &amp;<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8a1fae8837ed20f43052e9a12f3f059a">products</a>, KernelType &amp;<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#ae01b79794fdf9ea2da51b4b80a238704">kernel</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8f7e340095eff2ee8cc7aabdf44e7d3c">BaseCase</a> (const size_t queryIndex, const size_t referenceIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the base case (kernel value) between two points.  <a href="#a8f7e340095eff2ee8cc7aabdf44e7d3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a97b1993152081252efd8686d30ffb2d9">Rescore</a> (TreeType &amp;queryNode, TreeType &amp;referenceNode, const double oldScore) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Re-evaluate the score for recursion order.  <a href="#a97b1993152081252efd8686d30ffb2d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a637ff89ad03b9f45736d65f0ac9ba4c8">Rescore</a> (const size_t queryIndex, TreeType &amp;referenceNode, const double oldScore) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Re-evaluate the score for recursion order.  <a href="#a637ff89ad03b9f45736d65f0ac9ba4c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a272f875c478c948a17c44e84dd818ab9">Score</a> (TreeType &amp;queryNode, TreeType &amp;referenceNode) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the score for recursion order.  <a href="#a272f875c478c948a17c44e84dd818ab9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a040f0145e014eab8e74bbb85baa02535">Score</a> (const size_t queryIndex, TreeType &amp;referenceNode, const double baseCaseResult) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the score for recursion order, passing the base case result (in the situation where it may be needed to calculate the recursion order).  <a href="#a040f0145e014eab8e74bbb85baa02535"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#afa692e0b2117c9e992b81533a6d1995c">Score</a> (TreeType &amp;queryNode, TreeType &amp;referenceNode, const double baseCaseResult) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the score for recursion order, passing the base case result (in the situation where it may be needed to calculate the recursion order).  <a href="#afa692e0b2117c9e992b81533a6d1995c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8cb5029b1cc380fec19289d3f3510a08">Score</a> (const size_t queryIndex, TreeType &amp;referenceNode) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the score for recursion order.  <a href="#a8cb5029b1cc380fec19289d3f3510a08"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#aa77e6a01e7233fdedbd1f896a0aedaa3">CalculateBound</a> (TreeType &amp;queryNode) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the bound for a given query node.  <a href="#aa77e6a01e7233fdedbd1f896a0aedaa3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a041d7d68b8898696895744e45056cd10">InsertNeighbor</a> (const size_t queryIndex, const size_t pos, const size_t neighbor, const double distance)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Utility function to insert neighbor into list of results.  <a href="#a041d7d68b8898696895744e45056cd10"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">arma::Mat&lt; size_t &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a62cf0cb4b46374534e5ff9b3aaff5cc0">indices</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The indices of the maximum kernel results.  <a href="#a62cf0cb4b46374534e5ff9b3aaff5cc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">KernelType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#ae01b79794fdf9ea2da51b4b80a238704">kernel</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The instantiated kernel.  <a href="#ae01b79794fdf9ea2da51b4b80a238704"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">arma::mat &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8a1fae8837ed20f43052e9a12f3f059a">products</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum kernels.  <a href="#a8a1fae8837ed20f43052e9a12f3f059a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">arma::vec&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#af4ffa02aa7240eee9f0ea7f954919c8f">queryKernels</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached query set self-kernels (|| q || for each q).  <a href="#af4ffa02aa7240eee9f0ea7f954919c8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const arma::mat &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a1133cf90a16a6b2da0dcf5336d7eb68b">querySet</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The query dataset.  <a href="#a1133cf90a16a6b2da0dcf5336d7eb68b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">arma::vec&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#ab9c8bf86d21c9d82dee67eb75a6c0bb2">referenceKernels</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached reference set self-kernels (|| r || for each r).  <a href="#ab9c8bf86d21c9d82dee67eb75a6c0bb2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const arma::mat &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#accd18cdbe977c51475c42b6ac7796d1b">referenceSet</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The reference dataset.  <a href="#accd18cdbe977c51475c42b6ac7796d1b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename KernelType, typename TreeType&gt;<br/>
 class mlpack::fastmks::FastMKSRules&lt; KernelType, TreeType &gt;</h3>

<p>The base case and pruning rules for <a class="el" href="classmlpack_1_1fastmks_1_1FastMKS.html" title="An implementation of fast exact max-kernel search.">FastMKS</a> (fast max-kernel search). </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00035">35</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aabb5aae1f786486db8b04eeee7366c04"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::FastMKSRules" ref="aabb5aae1f786486db8b04eeee7366c04" args="(const arma::mat &amp;referenceSet, const arma::mat &amp;querySet, arma::Mat&lt; size_t &gt; &amp;indices, arma::mat &amp;products, KernelType &amp;kernel)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">FastMKSRules</a> </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>querySet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::Mat&lt; size_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&nbsp;</td>
          <td class="paramname"> <em>products</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KernelType &amp;&nbsp;</td>
          <td class="paramname"> <em>kernel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8f7e340095eff2ee8cc7aabdf44e7d3c"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::BaseCase" ref="a8f7e340095eff2ee8cc7aabdf44e7d3c" args="(const size_t queryIndex, const size_t referenceIndex)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::BaseCase </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>queryIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>referenceIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the base case (kernel value) between two points. </p>

</div>
</div>
<a class="anchor" id="aa77e6a01e7233fdedbd1f896a0aedaa3"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::CalculateBound" ref="aa77e6a01e7233fdedbd1f896a0aedaa3" args="(TreeType &amp;queryNode) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::CalculateBound </td>
          <td>(</td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>queryNode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the bound for a given query node. </p>

</div>
</div>
<a class="anchor" id="a041d7d68b8898696895744e45056cd10"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::InsertNeighbor" ref="a041d7d68b8898696895744e45056cd10" args="(const size_t queryIndex, const size_t pos, const size_t neighbor, const double distance)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::InsertNeighbor </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>queryIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>neighbor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>distance</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Utility function to insert neighbor into list of results. </p>

</div>
</div>
<a class="anchor" id="a97b1993152081252efd8686d30ffb2d9"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Rescore" ref="a97b1993152081252efd8686d30ffb2d9" args="(TreeType &amp;queryNode, TreeType &amp;referenceNode, const double oldScore) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Rescore </td>
          <td>(</td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>queryNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>oldScore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Re-evaluate the score for recursion order. </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that a node should not be recursed into at all (it should be pruned). This is used when the score has already been calculated, but another recursion may have modified the bounds for pruning. So the old score is checked against the new pruning bound.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryNode</em>&nbsp;</td><td>Candidate query node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate reference node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oldScore</em>&nbsp;</td><td>Old score produced by <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8cb5029b1cc380fec19289d3f3510a08" title="Get the score for recursion order.">Score()</a> (or <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a637ff89ad03b9f45736d65f0ac9ba4c8" title="Re-evaluate the score for recursion order.">Rescore()</a>). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a637ff89ad03b9f45736d65f0ac9ba4c8"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Rescore" ref="a637ff89ad03b9f45736d65f0ac9ba4c8" args="(const size_t queryIndex, TreeType &amp;referenceNode, const double oldScore) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Rescore </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>queryIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>oldScore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Re-evaluate the score for recursion order. </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that a node should not be recursed into at all (it should be pruned). This is used when the score has already been calculated, but another recursion may have modified the bounds for pruning. So the old score is checked against the new pruning bound.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryIndex</em>&nbsp;</td><td>Index of query point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oldScore</em>&nbsp;</td><td>Old score produced by <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8cb5029b1cc380fec19289d3f3510a08" title="Get the score for recursion order.">Score()</a> (or <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a637ff89ad03b9f45736d65f0ac9ba4c8" title="Re-evaluate the score for recursion order.">Rescore()</a>). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afa692e0b2117c9e992b81533a6d1995c"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Score" ref="afa692e0b2117c9e992b81533a6d1995c" args="(TreeType &amp;queryNode, TreeType &amp;referenceNode, const double baseCaseResult) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Score </td>
          <td>(</td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>queryNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>baseCaseResult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the score for recursion order, passing the base case result (in the situation where it may be needed to calculate the recursion order). </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that the node should not be recursed into at all (it should be pruned).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryNode</em>&nbsp;</td><td>Candidate query node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate reference node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseCaseResult</em>&nbsp;</td><td>Result of BaseCase(queryNode, referenceNode). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8cb5029b1cc380fec19289d3f3510a08"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Score" ref="a8cb5029b1cc380fec19289d3f3510a08" args="(const size_t queryIndex, TreeType &amp;referenceNode) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Score </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>queryIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the score for recursion order. </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that the node should not be recursed into at all (it should be pruned).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryIndex</em>&nbsp;</td><td>Index of query point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate to be recursed into. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a040f0145e014eab8e74bbb85baa02535"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Score" ref="a040f0145e014eab8e74bbb85baa02535" args="(const size_t queryIndex, TreeType &amp;referenceNode, const double baseCaseResult) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Score </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>queryIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>baseCaseResult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the score for recursion order, passing the base case result (in the situation where it may be needed to calculate the recursion order). </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that the node should not be recursed into at all (it should be pruned).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryIndex</em>&nbsp;</td><td>Index of query point. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseCaseResult</em>&nbsp;</td><td>Result of BaseCase(queryIndex, referenceNode). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a272f875c478c948a17c44e84dd818ab9"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::Score" ref="a272f875c478c948a17c44e84dd818ab9" args="(TreeType &amp;queryNode, TreeType &amp;referenceNode) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::Score </td>
          <td>(</td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>queryNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeType &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceNode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the score for recursion order. </p>
<p>A low score indicates priority for recursion, while DBL_MAX indicates that the node should not be recursed into at all (it should be pruned).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queryNode</em>&nbsp;</td><td>Candidate query node to be recursed into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>referenceNode</em>&nbsp;</td><td>Candidate reference node to be recursed into. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a62cf0cb4b46374534e5ff9b3aaff5cc0"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::indices" ref="a62cf0cb4b46374534e5ff9b3aaff5cc0" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">arma::Mat&lt;size_t&gt;&amp; <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a62cf0cb4b46374534e5ff9b3aaff5cc0">indices</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The indices of the maximum kernel results. </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00132">132</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae01b79794fdf9ea2da51b4b80a238704"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::kernel" ref="ae01b79794fdf9ea2da51b4b80a238704" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">KernelType&amp; <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#ae01b79794fdf9ea2da51b4b80a238704">kernel</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The instantiated kernel. </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00142">142</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8a1fae8837ed20f43052e9a12f3f059a"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::products" ref="a8a1fae8837ed20f43052e9a12f3f059a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">arma::mat&amp; <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a8a1fae8837ed20f43052e9a12f3f059a">products</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The maximum kernels. </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00134">134</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af4ffa02aa7240eee9f0ea7f954919c8f"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::queryKernels" ref="af4ffa02aa7240eee9f0ea7f954919c8f" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">arma::vec <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#af4ffa02aa7240eee9f0ea7f954919c8f">queryKernels</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached query set self-kernels (|| q || for each q). </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00137">137</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1133cf90a16a6b2da0dcf5336d7eb68b"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::querySet" ref="a1133cf90a16a6b2da0dcf5336d7eb68b" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const arma::mat&amp; <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#a1133cf90a16a6b2da0dcf5336d7eb68b">querySet</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The query dataset. </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00129">129</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c8bf86d21c9d82dee67eb75a6c0bb2"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::referenceKernels" ref="ab9c8bf86d21c9d82dee67eb75a6c0bb2" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">arma::vec <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#ab9c8bf86d21c9d82dee67eb75a6c0bb2">referenceKernels</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cached reference set self-kernels (|| r || for each r). </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00139">139</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="accd18cdbe977c51475c42b6ac7796d1b"></a><!-- doxytag: member="mlpack::fastmks::FastMKSRules::referenceSet" ref="accd18cdbe977c51475c42b6ac7796d1b" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename KernelType , typename TreeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const arma::mat&amp; <a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html">mlpack::fastmks::FastMKSRules</a>&lt; KernelType, TreeType &gt;::<a class="el" href="classmlpack_1_1fastmks_1_1FastMKSRules.html#accd18cdbe977c51475c42b6ac7796d1b">referenceSet</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The reference dataset. </p>

<p>Definition at line <a class="el" href="fastmks__rules_8hpp_source.html#l00127">127</a> of file <a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mlpack/methods/fastmks/<a class="el" href="fastmks__rules_8hpp_source.html">fastmks_rules.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Aug 19 2015 17:00:52 for MLPACK by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
