<html >
<head >

<meta name="keywords" content="mlpack, libmlpack, c++, armadillo, machine
learning, data mining, classification, regression, tree-based methods, dual-tree
algorithm">
<meta name="description" content="mlpack: a scalable c++ machine learning
library">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title >mlpack: a scalable c++ machine learning library</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="dynamic_tables.js"></script>
</head><link rel="stylesheet" href="style-doxygen.css" /><link rel="stylesheet" href="doxygen.css" /><link rel="stylesheet" href="tabs.css" /><link rel="stylesheet" href="search/search.css" /><link href="http://fonts.googleapis.com/css?family=Maven+Pro:500" rel="stylesheet" type="text/css" />





<body ><br />


<div class="mlpack_titlebar">
   <a href="http://www.mlpack.org"><img src="../../../mlpack.png"></a>
</div>
<center >
<div class="mlnavbar">
  <div class="navcontainer">
   <div class="mlnavitem" name="mlnavmain"><a href="../../../index.html">main</a></div>
   <div class="mlnavitem" name="mlnavabout"><a href="../../../about.html">about</a></div>
   <div class="mlnavitem" name="mlnavdoc"><a href="../../../docs.html">docs</a></div>
   <div class="mlnavitem" name="mlnavhelp"><a href="../../../help.html">get help</a></div>
   <div class="mlnavitem" name="mlnavbugs"><a href="https://github.com/mlpack/mlpack">github</a></div>
  </div>
</div>
</center>
<div class="separator"></div>
<center >
<div class="mainsection smallertext">
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody >
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>

<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>

<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>


<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="headertitle">
<div class="title">Matrices in mlpack </div>  </div>
</div>
<div class="contents">
<div class="textblock"><h1 ><a class="anchor" id="matintro"></a>
Introduction</h1>
<p >mlpack uses Armadillo matrices for matrix support. Armadillo is a fast C++ matrix library which makes use of advanced template techniques to provide the fastest possible matrix operations.</p>
<p >Documentation on Armadillo can be found on their website:</p>
<p ><a href="http://arma.sourceforge.net/docs.html">http://arma.sourceforge.net/docs.html</a></p>
<p >Nonetheless, there are a few further caveats for mlpack Armadillo usage.</p>
<h1 ><a class="anchor" id="format"></a>
Column-major Matrices</h1>
<p >Armadillo matrices are stored in a column-major format; this means that on disk, each column is located in contiguous memory.</p>
<p >This means that, for the vast majority of machine learning methods, it is faster to store observations as columns and dimensions as rows. This is counter to most standard machine learning texts!</p>
<p >Major implications of this are for linear algebra. For instance, the covariance of a matrix is typically</p>
<p ><img class="formulaInl" alt="$ C = X^T X $" src="form_145.png"></img></p>
<p >but for a column-wise matrix, it is</p>
<p ><img class="formulaInl" alt="$ C = X X^T $" src="form_146.png"></img></p>
<p >and this is very important to keep in mind! If your mlpack code is not working, this may be a factor in why.</p>
<h1 ><a class="anchor" id="loading"></a>
Loading Matrices</h1>
<p >mlpack provides a <a class="el" href="namespacemlpack_1_1data.html#a19805d6585ac8b0be7c4e4b7f081977c" title="Loads a matrix from file, guessing the filetype from the extension. ">data::Load()</a> and <a class="el" href="namespacemlpack_1_1data.html#a16bc794b14db0ab126595b19a32a5bc0" title="Saves a matrix to file, guessing the filetype from the extension. ">data::Save()</a> function, which should be used instead of Armadillo's loading and saving functions.</p>
<p >Most machine learning data is stored in row-major format; a CSV, for example, will generally have one observation per line and each column will correspond to a dimension.</p>
<p >The <a class="el" href="namespacemlpack_1_1data.html#a19805d6585ac8b0be7c4e4b7f081977c" title="Loads a matrix from file, guessing the filetype from the extension. ">data::Load()</a> and <a class="el" href="namespacemlpack_1_1data.html#a16bc794b14db0ab126595b19a32a5bc0" title="Saves a matrix to file, guessing the filetype from the extension. ">data::Save()</a> functions transpose the matrix upon loading, meaning that the following CSV:</p>
<div class="fragment"><div class="line">$ cat data.csv</div><div class="line">3,3,3,3,0</div><div class="line">3,4,4,3,0</div><div class="line">3,4,4,3,0</div><div class="line">3,3,4,3,0</div><div class="line">3,6,4,3,0</div><div class="line">2,4,4,3,0</div><div class="line">2,4,4,1,0</div><div class="line">3,3,3,2,0</div><div class="line">3,4,4,2,0</div><div class="line">3,4,4,2,0</div><div class="line">3,3,4,2,0</div><div class="line">3,6,4,2,0</div><div class="line">2,4,4,2,0</div></div><p >is actually loaded with 5 rows and 13 columns, not 13 rows and 5 columns like the CSV is written.</p>
<p >This is important to remember! </p>
</div></div>

<hr class="footer"></hr><address class="footer"><small >
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"></img>
</a> 1.8.13
</small></address>
</div>
</body>
<script type="text/javascript">
var x = document.querySelectorAll("img.formulaDsp");
var i;
for (i = 0; i < x.length; i++)
{
  x[i].width = x[i].offsetWidth / 4;
}
</script>
</html>